# Active Recordの基礎
- active record
  - データベースの行をラップし、データベースへの接続をカプセル化し、データにドメインロジックを追加するオブジェクト
	  - 「Patterns of Enterprise Application Architecture」by Martin Fowler
	- データと振る舞いをもつ
- ORM(オブジェクトリレーショナルマッピング)
  - プログラミング言語のリッチなオプジェクトとデータベースのレコードを接続する技術
	- 直接SQLを書くことなく、データの読み取り、書き込みが可能
	- クエリを記述する量を必要最低限にすることが可能
- RailsのActive Recordで何ができる？
  - モデルとモデル内のデータを表現する
	- モデル間の関連づけ（association）を表す
	- 関連づけられたモデル間の継承関係を表す
	- バリデーションができる
	- データベースをオブジェクト指向スタイルで操作する
- Convention over Configuration(設定より規約)
  - アプリケーションを作る際に、多くの場合に同じ設定をするのであれば、そもそもそれをアプリケーションのデフォルトにしてしまおうって思想
	- ↑により従わないといけない規約が存在するが従うことでコード量は少なく済む
- 命名規約
  - モデル名は単数系、キャメルケース
	- テーブル名は複数形、スネークケース
	- モデル/クラス, テーブル/スキーマ
	  - Product, products
		- LineItem, line_items
- スキーマ規約
  - 主キー
		- id(mysqlではbigint, マイグレーション時に自動的に付与される)
		- 主キーとしてidをデフォルトで使うよってこと
	- 外部キー
	  - モデル名_id(list_item_id)
		- モデル間の関連付けを探すときにActive Recordが利用
	- 予約されてるやつ
	  - updated_at, created_at
		- type(STI)
		- モデル名_count, 関連先のテーブルのキャッシュ
